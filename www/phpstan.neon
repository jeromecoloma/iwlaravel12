includes:
    - vendor/larastan/larastan/extension.neon

parameters:
    level: 8
    paths:
        - app
        - bootstrap/app.php
        - routes
        - config
        - database

    excludePaths:
        - vendor
        - node_modules (?)
        - storage
        - bootstrap/cache
        - tests/Feature/ContactFormTest.php

    ignoreErrors:
        # Allow array type issues common in Laravel applications
        - '#has no value type specified in iterable type array#'
        - '#Method .* has parameter .* with no value type specified in iterable type array#'
        # Allow Laravel's dynamic property access patterns
        - '#Access to an undefined property Illuminate\\Http\\Request::\$[a-zA-Z_]+#'
        - '#Call to an undefined method Illuminate\\Database\\Eloquent\\Builder.*#'
        # Allow Inertia's dynamic method calls
        - '#Call to an undefined method Inertia\\Response::[a-zA-Z_]+#'
        # Allow Laravel configuration environment variable patterns
        - '#Parameter .* of function .* expects string, bool\|string given\.#'
        - '#Parameter .* of static method .* expects string, bool\|string given\.#'
        # Allow Laravel factory definition compatibility
        - '#Return type .* of method .*Factory::definition\(\) should be compatible with.*#'
        # Allow common offset access patterns in Laravel arrays
        - '#Offset .* on array.* on left side of \?\? always exists and is not nullable\.#'
        # Allow Laravel generic type issues (common with Eloquent models)
        - '#Class .* uses generic trait .* but does not specify its types#'
        - '#Method .* return type with generic class .* does not specify its types#'
        - '#Method .* has parameter .* with generic class .* but does not specify its types#'
        - '#Parameter \#1 \$column of method .* expects .* property of .*, .* given#'
        # Temporarily ignore OptimizeImages command issues (to be fixed in performance optimization)
        - '#.*OptimizeImages.*#'

    reportUnmatchedIgnoredErrors: false
    checkOctaneCompatibility: true
    checkModelProperties: true